<div class="tables-wrapper">
    <mat-card *ngFor="let table of tables">
        <mat-card-header>
            <mat-card-title>Table {{ table.id }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div>Table name: {{ table.name }}</div>
            <div>
                Players:
                <span *ngFor="let player of table.players; index as i"
                    >{{ player.name
                    }}{{ table.players[i + 1] ? ', ' : '' }}</span
                >
            </div>
        </mat-card-content>
        <mat-card-actions>
            <button mat-raised-button color="accent" (click)="joinTable(table)">
                JOIN
            </button>
        </mat-card-actions>
    </mat-card>
    <mat-card *ngIf="tables?.length <= 0">
        <mat-card-header>
            <mat-card-title>No avaliabe tables</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-form-field name="tableName" (keyup.enter)="createTable()">
                <mat-label>Table name</mat-label>
                <input
                    matInput
                    autocomplete="off"
                    maxlength="20"
                    [formControl]="tableName"
                />
                <mat-error
                    *ngIf="tableName.hasError('required')"
                    [innerText]="INVALID_TABLE_NAME"
                ></mat-error>
                <mat-error
                    *ngIf="tableName.hasError('minlength')"
                    [innerText]="MIN_TABLE_NAME"
                ></mat-error>
                <mat-error
                    *ngIf="tableName.hasError('maxlength')"
                    [innerText]="MAX_TABLE_NAME"
                ></mat-error>
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
            <button
                mat-raised-button
                color="accent"
                class="create-button"
                (click)="createTable()"
            >
                CREATE NEW TABLE
            </button>
        </mat-card-actions>
    </mat-card>
</div>
